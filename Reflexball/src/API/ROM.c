#include "ROM.h"

const char ASCII_table[43][4][11] = {
    // { // NULL
        // {0,0,0,0,0,0,0,0,0,0,0},
        // {0,0,0,0,0,0,0,0,0,0,0},
        // {0,0,0,0,0,0,0,0,0,0,0},
        // {0,0,0,0,0,0,0,0,0,0,0}
    // ,0x20}

    //Watch out for ",", "'", "<"

    {   // 0
        {0x20,0x20,0x5F,0x5F,0x20,0x20,0x20,0,0,0,0},
        {0x20,0x2F,0x20,0x20,0x5C,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x28,0x29,0x20,0x7C,0x20,0,0,0,0},
        {0x20,0x5C,0x5F,0x5F,0x2F,0x20,0x20,0,0,0,0}
    },
    {   // 1
        {0x20,0x5F,0x20,0x20,0,0,0,0,0,0,0},
        {0x2F,0x20,0x7C,0x20,0,0,0,0,0,0,0},
        {0x7C,0x20,0x7C,0x20,0,0,0,0,0,0,0},
        {0x7C,0x5F,0x7C,0x20,0,0,0,0,0,0,0}
    },
    {   // 2
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x20,0x20,0x29,0x20,0,0,0,0,0},
        {0x20,0x2F,0x20,0x2F,0x20,0x20,0,0,0,0,0},
        {0x2F,0x5F,0x5F,0x5F,0x7C,0x20,0,0,0,0,0}
    },
    { // 3
        {0x20,0x5F,0x5F,0x5F,0x5F,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x20,0x2F,0x20,0,0,0,0,0},
        {0x20,0x7C,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x2F,0x20,0,0,0,0,0}
    },
    { // 4
        {0x20,0x5F,0x20,0x5F,0x20,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x7C,0x20,0x7C,0x20,0x20,0,0,0,0},
        {0x7C,0x5F,0x20,0x20,0x5F,0x7C,0x20,0,0,0,0},
        {0x20,0x20,0x7C,0x5F,0x7C,0x20,0x20,0,0,0,0}
    },
    { // 5
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x5F,0x7C,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x2F,0x20,0,0,0,0,0}
    },
    { // 6
        {0x20,0x20,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x20,0x2F,0x20,0x2F,0x20,0x20,0,0,0,0,0},
        {0x2F,0x20,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x5C,0x5F,0x5F,0x5F,0x2F,0x20,0,0,0,0,0}
    },
    { // 7
        {0x20,0x5F,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0},
        {0x7C,0x5F,0x5F,0x20,0x20,0x7C,0x20,0,0,0,0},
        {0x20,0x20,0x2F,0x20,0x2F,0x20,0x20,0,0,0,0},
        {0x20,0x2F,0x5F,0x2F,0x20,0x20,0x20,0,0,0,0}
    },
    { // 8
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x28,0x20,0x5F,0x20,0x29,0x20,0,0,0,0,0},
        {0x2F,0x20,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x5C,0x5F,0x5F,0x5F,0x2F,0x20,0,0,0,0,0}
    },
    { // 9
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x2F,0x20,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x5C,0x5F,0x2C,0x20,0x2F,0x20,0,0,0,0,0},
        {0x20,0x2F,0x5F,0x2F,0x20,0x20,0,0,0,0,0}
    },
    { // Space
        {0x20,0x20,0,0,0,0,0,0,0,0,0},
        {0x20,0x20,0,0,0,0,0,0,0,0,0},
        {0x20,0x20,0,0,0,0,0,0,0,0,0},
        {0x20,0x20,0,0,0,0,0,0,0,0,0}
    },
    { // NULL
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0}
    },
    { // NULL
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0}
    },
    { // NULL
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0}
    },
    { // NULL
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0}
    },
    { // NULL
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0}
    },
    { // NULL
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0},
        {0,0,0,0,0,0,0,0,0,0,0}
    },
    { // A
        {0x20,0x20,0x20,0x5F,0x20,0x20,0x20,0x20,0,0,0},
        {0x20,0x20,0x2F,0x5F,0x5C,0x20,0x20,0x20,0,0,0},
        {0x20,0x2F,0x20,0x5F,0x20,0x5C,0x20,0x20,0,0,0},
        {0x2F,0x5F,0x2F,0x20,0x5C,0x5F,0x5C,0x20,0,0,0}
    },
    { // B
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x20,0x29,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x2F,0x20,0,0,0,0,0}
    },
    { // C
        {0x20,0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0},
        {0x20,0x2F,0x20,0x5F,0x5F,0x7C,0x20,0,0,0,0},
        {0x7C,0x20,0x28,0x5F,0x5F,0x20,0x20,0,0,0,0},
        {0x20,0x5C,0x5F,0x5F,0x5F,0x7C,0x20,0,0,0,0}
    },
    { // D
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x20,0x20,0x5C,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x7C,0x29,0x20,0x7C,0x20,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x2F,0x20,0x20,0,0,0,0}
    },
    { // E
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x5F,0x7C,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x7C,0x20,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x7C,0x20,0,0,0,0,0}
    },
    { // F
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x5F,0x7C,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x7C,0x20,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x7C,0x20,0x20,0x20,0,0,0,0,0}
    },
    { // G
        {0x20,0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0},
        {0x20,0x2F,0x20,0x5F,0x5F,0x7C,0x20,0,0,0,0},
        {0x7C,0x20,0x28,0x5F,0x20,0x7C,0x20,0,0,0,0},
        {0x20,0x5C,0x5F,0x5F,0x5F,0x7C,0x20,0,0,0,0}
    },
    { // H
        {0x20,0x5F,0x20,0x20,0x5F,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x7C,0x7C,0x20,0x7C,0x20,0,0,0,0},
        {0x7C,0x20,0x5F,0x5F,0x20,0x7C,0x20,0,0,0,0},
        {0x7C,0x5F,0x7C,0x7C,0x5F,0x7C,0x20,0,0,0,0}
    },
    { // I
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x20,0x5F,0x7C,0x20,0,0,0,0,0},
        {0x20,0x7C,0x20,0x7C,0x20,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x7C,0x20,0,0,0,0,0}
    },
    { // J
        {0x20,0x20,0x20,0x20,0x5F,0x20,0x20,0,0,0,0},
        {0x20,0x5F,0x20,0x7C,0x20,0x7C,0x20,0,0,0,0},
        {0x7C,0x20,0x7C,0x7C,0x20,0x7C,0x20,0,0,0,0},
        {0x20,0x5C,0x5F,0x5F,0x2F,0x20,0x20,0,0,0,0}
    },
    { // K
        {0x20,0x5F,0x20,0x20,0x5F,0x5F,0x20,0,0,0,0},
        {0x7C,0x20,0x7C,0x2F,0x20,0x2F,0x20,0,0,0,0},
        {0x7C,0x20,0x27,0x20,0x3C,0x20,0x20,0,0,0,0},
        {0x7C,0x5F,0x7C,0x5C,0x5F,0x5C,0x20,0,0,0,0}
    },
    { // L
        {0x20,0x5F,0x20,0x20,0x20,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x7C,0x20,0x20,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x7C,0x5F,0x5F,0x20,0x20,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x5F,0x7C,0x20,0,0,0,0}
    },
    { // M
        {0x20,0x5F,0x5F,0x20,0x20,0x5F,0x5F,0x20,0x20,0,0},
        {0x7C,0x20,0x20,0x5C,0x2F,0x20,0x20,0x7C,0x20,0,0},
        {0x7C,0x20,0x7C,0x5C,0x2F,0x7C,0x20,0x7C,0x20,0,0},
        {0x7C,0x5F,0x7C,0x20,0x20,0x7C,0x5F,0x7C,0x20,0,0}
    },
    { // N
        {0x20,0x5F,0x20,0x20,0x5F,0x20,0x20,0,0,0,0},
        {0x7C,0x20,0x5C,0x7C,0x20,0x7C,0x20,0,0,0,0},
        {0x7C,0x20,0x2E,0x60,0x20,0x7C,0x20,0,0,0,0},
        {0x7C,0x5F,0x7C,0x5C,0x5F,0x7C,0x20,0,0,0,0}
    },
    { // O
        {0x20,0x20,0x5F,0x5F,0x5F,0x20,0x20,0x20,0,0,0},
        {0x20,0x2F,0x20,0x5F,0x20,0x5C,0x20,0x20,0,0,0},
        {0x7C,0x20,0x28,0x5F,0x29,0x20,0x7C,0x20,0,0,0},
        {0x20,0x5C,0x5F,0x5F,0x5F,0x2F,0x20,0x20,0,0,0}
    },
    { // P
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x7C,0x20,0x20,0x5F,0x2F,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x7C,0x20,0x20,0x20,0,0,0,0,0}
    },
    { // Q
        {0x20,0x20,0x5F,0x5F,0x5F,0x20,0x20,0x20,0,0,0},
        {0x20,0x2F,0x20,0x5F,0x20,0x5C,0x20,0x20,0,0,0},
        {0x7C,0x20,0x28,0x5F,0x29,0x20,0x7C,0x20,0,0,0},
        {0x20,0x5C,0x5F,0x5F,0x5C,0x5F,0x5C,0x20,0,0,0}
    },
    { // R
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x7C,0x20,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x7C,0x20,0x20,0x20,0x2F,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x7C,0x5F,0x5C,0x20,0,0,0,0,0}
    },
    { // S
        {0x20,0x5F,0x5F,0x5F,0x20,0x20,0,0,0,0,0},
        {0x2F,0x20,0x5F,0x5F,0x7C,0x20,0,0,0,0,0},
        {0x5C,0x5F,0x5F,0x20,0x5C,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x5F,0x5F,0x2F,0x20,0,0,0,0,0}
    },
    { // T
        {0x20,0x5F,0x5F,0x5F,0x5F,0x5F,0x20,0x20,0,0,0},
        {0x7C,0x5F,0x20,0x20,0x20,0x5F,0x7C,0x20,0,0,0},
        {0x20,0x20,0x7C,0x20,0x7C,0x20,0x20,0x20,0,0,0},
        {0x20,0x20,0x7C,0x5F,0x7C,0x20,0x20,0x20,0,0,0}
    },
    { // U
        {0x20,0x5F,0x20,0x20,0x20,0x5F,0x20,0x20,0,0,0},
        {0x7C,0x20,0x7C,0x20,0x7C,0x20,0x7C,0x20,0,0,0},
        {0x7C,0x20,0x7C,0x5F,0x7C,0x20,0x7C,0x20,0,0,0},
        {0x20,0x5C,0x5F,0x5F,0x5F,0x2F,0x20,0x20,0,0,0}
    },
    { // V
        {0x5F,0x5F,0x20,0x20,0x20,0x5F,0x5F,0x20,0,0,0},
        {0x5C,0x20,0x5C,0x20,0x2F,0x20,0x2F,0x20,0,0,0},
        {0x20,0x5C,0x20,0x56,0x20,0x2F,0x20,0x20,0,0,0},
        {0x20,0x20,0x5C,0x5F,0x2F,0x20,0x20,0x20,0,0,0}
    },
    { // W
        {0x5F,0x5F,0x20,0x20,0x20,0x20,0x20,0x20,0x5F,0x5F,0x20},
        {0x5C,0x20,0x5C,0x20,0x20,0x20,0x20,0x2F,0x20,0x2F,0x20},
        {0x20,0x5C,0x20,0x5C,0x2F,0x5C,0x2F,0x20,0x2F,0x20,0x20},
        {0x20,0x20,0x5C,0x5F,0x2F,0x5C,0x5F,0x2F,0x20,0x20,0x20}
    },
    { // X
        {0x5F,0x5F,0x20,0x20,0x5F,0x5F,0x20,0,0,0,0},
        {0x5C,0x20,0x5C,0x2F,0x20,0x2F,0x20,0,0,0,0},
        {0x20,0x3E,0x20,0x20,0x3C,0x20,0x20,0,0,0,0},
        {0x2F,0x5F,0x2F,0x5C,0x5F,0x5C,0x20,0,0,0,0}
    },
    { // Y
        {0x5F,0x5F,0x20,0x20,0x20,0x5F,0x5F,0x20,0,0,0},
        {0x5C,0x20,0x5C,0x20,0x2F,0x20,0x2F,0x20,0,0,0},
        {0x20,0x5C,0x20,0x56,0x20,0x2F,0x20,0x20,0,0,0},
        {0x20,0x20,0x7C,0x5F,0x7C,0x20,0x20,0x20,0,0,0}
    },
    { // Z
        {0x20,0x5F,0x5F,0x5F,0x5F,0x20,0,0,0,0,0},
        {0x7C,0x5F,0x20,0x20,0x2F,0x20,0,0,0,0,0},
        {0x20,0x2F,0x20,0x2F,0x20,0x20,0,0,0,0,0},
        {0x2F,0x5F,0x5F,0x5F,0x7C,0x20,0,0,0,0,0}
    }
};

const char BOSSKEY_BSOD[943] = {
0x41,0x20,0x70,0x72,0x6F,0x62,0x6C,0x65,0x6D,0x20,0x68,0x61,0x73,
0x20,0x62,0x65,0x65,0x6E,0x20,0x64,0x65,0x74,0x65,0x63,0x74,0x65,
0x64,0x20,0x61,0x6E,0x64,0x20,0x57,0x69,0x6E,0x64,0x6F,0x77,0x73,
0x20,0x68,0x61,0x73,0x20,0x62,0x65,0x65,0x6E,0x20,0x73,0x68,0x75,
0x74,0x20,0x64,0x6F,0x77,0x6E,0x20,0x74,0x6F,0x20,0x70,0x72,0x65,
0x76,0x65,0x6E,0x74,0x20,0x64,0x61,0x6D,0x61,0x67,0x65,0x20,0x74,
0x6F,0x20,0x79,0x6F,0x75,0x72,0x20,0x63,0x6F,0x6D,0x70,0x75,0x74,
0x65,0x72,0x2E,'\n','\n',0x4D,0x45,0x4D,0x4F,0x52,0x59,0x5F,0x4D,
0x41,0x4E,0x41,0x47,0x45,0x4D,0x45,0x4E,0x54,'\n','\n',0x49,0x66,
0x20,0x74,0x68,0x69,0x73,0x20,0x69,0x73,0x20,0x74,0x68,0x65,0x20,
0x66,0x69,0x72,0x73,0x74,0x20,0x74,0x69,0x6D,0x65,0x20,0x79,0x6F,
0x75,0x27,0x76,0x65,0x20,0x73,0x65,0x65,0x6E,0x20,0x74,0x68,0x69,
0x73,0x20,0x53,0x74,0x6F,0x70,0x20,0x65,0x72,0x72,0x6F,0x72,0x20,
0x73,0x63,0x72,0x65,0x65,0x6E,0x2C,0x20,0x72,0x65,0x73,0x74,0x61,
0x72,0x74,0x20,0x79,0x6F,0x75,0x72,0x20,0x63,0x6F,0x6D,0x70,0x75,
0x74,0x65,0x72,0x2E,0x20,0x49,0x66,0x20,0x74,0x68,0x69,0x73,0x20,
0x73,0x63,0x72,0x65,0x65,0x6E,0x20,0x61,0x70,0x70,0x65,0x61,0x72,
0x73,0x20,0x61,0x67,0x61,0x69,0x6E,0x2C,0x20,0x66,0x6F,0x6C,0x6C,
0x6F,0x77,0x20,0x74,0x68,0x65,0x73,0x65,0x20,0x73,0x74,0x65,0x70,
0x73,0x3A,'\n','\n',0x43,0x68,0x65,0x63,0x6B,0x20,0x74,0x6F,0x20,
0x6D,0x61,0x6B,0x65,0x20,0x73,0x75,0x72,0x65,0x20,0x61,0x6E,0x79,
0x20,0x6E,0x65,0x77,0x20,0x68,0x61,0x72,0x64,0x77,0x61,0x72,0x65,
0x20,0x6F,0x72,0x20,0x73,0x6F,0x66,0x74,0x77,0x61,0x72,0x65,0x20,
0x69,0x73,0x20,0x70,0x72,0x6F,0x70,0x65,0x72,0x6C,0x79,0x20,0x69,
0x6E,0x73,0x74,0x61,0x6C,0x6C,0x65,0x64,0x2E,0x20,0x49,0x66,0x20,
0x74,0x68,0x69,0x73,0x20,0x69,0x73,0x20,0x61,0x20,0x6E,0x65,0x77,
0x20,0x69,0x6E,0x73,0x74,0x61,0x6C,0x6C,0x61,0x74,0x69,0x6F,0x6E,
0x2C,0x20,0x61,0x73,0x6B,0x20,0x79,0x6F,0x75,0x72,0x20,0x68,0x61,
0x72,0x64,0x77,0x61,0x72,0x65,0x20,0x6F,0x72,0x20,0x73,0x6F,0x66,
0x74,0x77,0x61,0x72,0x65,0x20,0x6D,0x61,0x6E,0x75,0x66,0x61,0x63,
0x74,0x75,0x72,0x65,0x72,0x20,0x66,0x6F,0x72,0x20,0x61,0x6E,0x79,
0x20,0x57,0x69,0x6E,0x64,0x6F,0x77,0x73,0x20,0x75,0x70,0x64,0x61,
0x74,0x65,0x73,0x20,0x79,0x6F,0x75,0x20,0x6D,0x69,0x67,0x68,0x74,
0x20,0x6E,0x65,0x65,0x64,0x2E,'\n','\n',0x49,0x66,0x20,0x70,0x72,
0x6F,0x62,0x6C,0x65,0x6D,0x73,0x20,0x63,0x6F,0x6E,0x74,0x69,0x6E,
0x75,0x65,0x2C,0x20,0x64,0x69,0x73,0x61,0x62,0x6C,0x65,0x20,0x6F,
0x72,0x20,0x72,0x65,0x6D,0x6F,0x76,0x65,0x20,0x61,0x6E,0x79,0x20,
0x6E,0x65,0x77,0x6C,0x79,0x20,0x69,0x6E,0x73,0x74,0x61,0x6C,0x6C,
0x65,0x64,0x20,0x68,0x61,0x72,0x64,0x77,0x61,0x72,0x65,0x20,0x6F,
0x72,0x20,0x73,0x6F,0x66,0x74,0x77,0x61,0x72,0x65,0x2E,0x20,0x44,
0x69,0x73,0x61,0x62,0x6C,0x65,0x20,0x42,0x49,0x4F,0x53,0x20,0x6D,
0x65,0x6D,0x6F,0x72,0x79,0x20,0x6F,0x70,0x74,0x69,0x6F,0x6E,0x73,
0x20,0x73,0x75,0x63,0x68,0x20,0x61,0x73,0x20,0x63,0x61,0x63,0x68,
0x69,0x6E,0x67,0x20,0x6F,0x72,0x20,0x73,0x68,0x61,0x64,0x6F,0x77,
0x69,0x6E,0x67,0x2E,0x20,0x49,0x66,0x20,0x79,0x6F,0x75,0x20,0x6E,
0x65,0x65,0x64,0x20,0x74,0x6F,0x20,0x75,0x73,0x65,0x20,0x53,0x61,
0x66,0x65,0x20,0x4D,0x6F,0x64,0x65,0x20,0x74,0x6F,0x20,0x72,0x65,
0x6D,0x6F,0x76,0x65,0x20,0x6F,0x72,0x20,0x64,0x69,0x73,0x61,0x62,
0x6C,0x65,0x20,0x63,0x6F,0x6D,0x70,0x6F,0x6E,0x65,0x6E,0x74,0x73,
0x2C,0x20,0x72,0x65,0x73,0x74,0x61,0x72,0x74,0x20,0x79,0x6F,0x75,
0x72,0x20,0x63,0x6F,0x6D,0x70,0x75,0x74,0x65,0x72,0x2C,0x20,0x70,
0x72,0x65,0x73,0x73,0x20,0x46,0x38,0x20,0x74,0x6F,0x20,0x73,0x65,
0x6C,0x65,0x63,0x74,0x20,0x41,0x64,0x76,0x61,0x6E,0x63,0x65,0x64,
0x20,0x53,0x74,0x61,0x72,0x74,0x75,0x70,0x20,0x4F,0x70,0x74,0x69,
0x6F,0x6E,0x73,0x2C,0x20,0x61,0x6E,0x64,0x20,0x74,0x68,0x65,0x6E,
0x20,0x73,0x65,0x6C,0x65,0x63,0x74,0x20,0x53,0x61,0x66,0x65,0x20,
0x4D,0x6F,0x64,0x65,0x2E,'\n','\n',0x54,0x65,0x63,0x68,0x6E,0x69,
0x63,0x61,0x6C,0x20,0x49,0x6E,0x66,0x6F,0x72,0x6D,0x61,0x74,0x69,
0x6F,0x6E,0x3A,'\n','\n',0x2A,0x2A,0x2A,0x20,0x53,0x54,0x4F,0x50,
0x3A,0x20,0x30,0x78,0x34,0x32,0x34,0x46,0x35,0x33,0x35,0x33,0x34,
0x42,0x34,0x35,0x35,0x39,0x20,0x40,0x20,0x4A,0x6F,0x79,0x31,'\n',
'\n',0x42,0x65,0x67,0x69,0x6E,0x6E,0x69,0x6E,0x67,0x20,0x64,0x75,
0x6D,0x70,0x20,0x6F,0x66,0x20,0x70,0x68,0x79,0x73,0x69,0x63,0x61,
0x6C,0x20,0x6D,0x65,0x6D,0x6F,0x72,0x79,'\n',0x50,0x68,0x79,0x73,
0x69,0x63,0x61,0x6C,0x20,0x6D,0x65,0x6D,0x6F,0x72,0x79,0x20,0x64,
0x75,0x6D,0x70,0x20,0x63,0x6F,0x6D,0x70,0x6C,0x65,0x74,0x65,0x2E,
'\n','\n',0x43,0x6F,0x6E,0x74,0x61,0x63,0x74,0x20,0x79,0x6F,0x75,
0x72,0x20,0x73,0x79,0x73,0x74,0x65,0x6D,0x20,0x61,0x64,0x6D,0x69,
0x6E,0x69,0x73,0x74,0x72,0x61,0x74,0x6F,0x72,0x20,0x6F,0x72,0x20,
0x74,0x65,0x63,0x68,0x6E,0x69,0x63,0x61,0x6C,0x20,0x73,0x75,0x70,
0x70,0x6F,0x72,0x74,0x20,0x67,0x72,0x6F,0x75,0x70,0x20,0x66,0x6F,
0x72,0x20,0x66,0x75,0x72,0x74,0x68,0x65,0x72,0x20,0x61,0x73,0x73,
0x69,0x73,0x74,0x61,0x6E,0x63,0x65,0x2E
};

//const uint32_t char_location[43] = {
//  0x0800F000, 0x0800F018, 0x0800F024, 0x0800F038, 0x0800F04C,
//  0x0800F064, 0x0800F078, 0x0800F08C, 0x0800F0A4, 0x0800F0B8,
//
//  0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
//  0x00000000, 0x00000000,
//
//  0x0800F800, 0x0800F81C, 0x0800F830, 0x0800F848, 0x0800F860,
//  0x0800F874, 0x0800F888, 0x0800F8A0, 0x0800F8B8, 0x0800F8CC,
//  0x0800F8E4, 0x0800F8FC, 0x0800F914, 0x0800F934, 0x0800F94C,
//  0x0800F968, 0x0800F97C, 0x0800F998, 0x0800F9AC, 0x0800F9C0,
//  0x0800F9DC, 0x0800F9F8, 0x0800FA14, 0x0800FA3C, 0x0800FA54,
//  0x0800FA70};

//const uint8_t char_width[43] = {
//  6, 3, 5, 5, 6, 5, 5, 6, 5, 5,
//
//  0, 0, 0, 0, 0, 0, 0,
//
//  7, 5, 6, 6, 5, 5, 6, 6, 5, 6, 6, 6, 8,
//  6, 7, 5, 7, 5, 5, 7, 7, 7, 10, 6, 7, 5};

void InitFlash() {
    FLASH_Unlock(); //Unlock the flash
    FLASH_ClearFlag( FLASH_FLAG_EOP | FLASH_FLAG_PGERR | FLASH_FLAG_WRPERR );
    FLASH_ErasePage(ADDRESS); //Erase the flash storage on the last address
    FLASH_Lock(); //Lock the flash
}

void PrintFromASCII(char* text, uint8_t drawX, uint8_t drawY) {
    char tempChar = 0x20;
    for (uint8_t i = 0; i < 4; i++) {
        gotoXY(drawX,drawY+i);
        for (uint8_t j = 0; j < strlen(text); j++) {
            for (uint8_t k = 0; k < 11; k++) {
                uint8_t l;
                l = text[j]-0x30;
                if(text[j]==0x20){
                    l = 10;
                }
                if(ASCII_table[l][i][k] == 0){
                    break;
                }
                tempChar = ASCII_table[l][i][k];
                printf("%c", tempChar);
            }
        }
    }
    gotoXY(0,0);
}

void WriteToFlash(uint16_t SCOREARRAY, uint32_t address) {
    FLASH_Unlock();
    for (uint8_t i = 0; i < 12; i++) {
        FLASH_ProgramHalfWord(address+i*2, data[i]);
    }
    FLASH_Lock();
}
uint16_t ReadFromFlash(uint32_t address) {
    uint16_t data;
    data = *(uint16_t *)(address);
    return data;
}

void PrintScore() {
    uint16_t scoreArray[12] = {};
    for (uint8_t i = 0; i < 12; i++) {
        scoreArray[i] = ReadFromFlash(ADDRESS+i*2);
    }
    char HighscorePlayer1[4] = {scoreArray[0],scoreArray[1],scoreArray[2],0};
    char HighscoreScore1[5];
    char HighscorePlayer2[4] = {scoreArray[4],scoreArray[5],scoreArray[6],0};
    char HighscoreScore2[5];
    char HighscorePlayer3[4] = {scoreArray[8],scoreArray[9],scoreArray[10],0};
    char HighscoreScore3[5];

    sprintf(HighscoreScore1,"%04d",scoreArray[3]);
    sprintf(HighscoreScore2,"%04d",scoreArray[7]);
    sprintf(HighscoreScore3,"%04d",scoreArray[11]);

    PrintFromASCII(HighscorePlayer1,60,20);
    PrintFromASCII(HighscoreScore1,90,20);
    PrintFromASCII(HighscorePlayer2,60,30);
    PrintFromASCII(HighscoreScore2,90,30);
    PrintFromASCII(HighscorePlayer3,60,40);
    PrintFromASCII(HighscoreScore3,90,50);
}

void Bosskey() {
    bgcolor(4);
    for (uint16_t i = 0; i < 100; i++) {
        printf("\n");
    }
    gotoXY(0,0);
    for (uint16_t i = 0; i < 941; i++) {
        printf("%c", BOSSKEY_BSOD[i]);
    }
    while (readJoystick > 15) {}
    bgcolor(0);
}

void HighscoreCheck (uint16_t score) {
    if(score >= *(uint16_t *)(0x0800F816)){
        if (score >= *(uint16_t *)(0x0800F80E)) {
            if (score >= *(uint16_t *)(0x0800F806)) {
                SubmitHighscore(0, score);
                return 0;
            }
            SubmitHighscore(1, score);
            return 0;
        }
        SubmitHighscore(2, score);
        return 0;
    }
    PrintFromASCII("TRY AGAIN",75,23);
}

void SubmitHighscore(uint8_t HighscoreLevel, uint16_t score) {
clrscr();
uint16_t HighscoreArray[12] = {0};
for (uint8_t i = 0; i < 12; i++) {
    HighscoreArray[i] = ReadFromFlash (0x0800F800+i*2);
}
for (uint8_t i = HighscoreLevel*4; i < HighscoreLevel*4+3; i++) {
    HighscoreArray[i] = CharSelect(i*10,0);
    wait(30);
}
HighscoreArray[HighscoreLevel*4+3] = score;
InitFlash();
WriteToFlash(HighscoreArray, (0x0800F800));
}

char CharSelect(uint8_t xPos, uint8_t yPos) {
    char valDraw[2]={0,0};
    char switchVal = 0;
    char tempVal = 0;
    while (readJoystick() < 16) {
        switchVal = (readAnalog(1)/160);
        if(switchVal!=tempVal) {
            tempVal = switchVal;
        }
        if(valDraw[0]!=tempVal+65) {
            valDraw[0]=tempVal+65;
            PrintFromASCII("      ",xPos,yPos);
            PrintFromASCII(valDraw,xPos,yPos);
        }
    }
    switchVal = tempVal+65;
    return switchVal;
}
